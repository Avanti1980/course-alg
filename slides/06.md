---
presentation:
  margin: 0
  center: false
  transition: "convex"
  enableSpeakerNotes: true
  slideNumber: "c/t"
  navigationMode: "linear"
---

@import "../css/font-awesome-4.7.0/css/font-awesome.css"
@import "../css/theme/solarized.css"
@import "../css/logo.css"
@import "../css/font.css"
@import "../css/color.css"
@import "../css/margin.css"
@import "../css/table.css"
@import "../css/main.css"
@import "../plugin/zoom/zoom.js"
@import "../plugin/customcontrols/plugin.js"
@import "../plugin/customcontrols/style.css"
@import "../plugin/chalkboard/plugin.js"
@import "../plugin/chalkboard/style.css"
@import "../plugin/menu/menu.js"

<!-- slide id="front-page" data-notes="" -->

<div class="bottom20"></div>

# ç®—æ³•è®¾è®¡ä¸åˆ†æ

<hr class="width70 center">

## å•æºæœ€çŸ­è·¯å¾„

<div class="bottom8"></div>

### è®¡ç®—æœºå­¦é™¢ &nbsp;&nbsp; å¼ è…¾

#### _tengzhang@hust.edu.cn_

<!-- slide data-notes="" -->

##### é—®é¢˜æè¿°

---

ç»™å®šå¸¦æƒæœ‰å‘å›¾$\Gcal = (\Vcal, \Ecal)$ï¼Œå…¶ä¸­$\Vcal$ä¸ºè¾¹é›†ã€$\Ecal$ä¸ºç‚¹é›†

è¾¹ä¸Šçš„æƒé‡ç”±å‡½æ•°$w: \Ecal \mapsto \Rbb$ç»™å‡ºï¼Œå…è®¸æƒé‡ä¸ºè´Ÿ

@import "../tikz/sp-1.svg" {.center .width50 .top5}

<!-- slide vertical=true data-notes="" -->

##### é—®é¢˜æè¿°

---

è·¯å¾„$p = \langle v_0, v_1, \ldots, v_k \rangle$çš„é•¿åº¦$\ell(p)$æ˜¯è·¯å¾„ä¸Šæ‰€æœ‰è¾¹çš„æƒé‡ä¹‹å’Œ

$$
\begin{align*}
    \quad \ell(p) = \sum_{i=1}^k w(v_{i-1}, v_k)
\end{align*}
$$

ä»ç‚¹$u$åˆ°ç‚¹$v$çš„æœ€çŸ­è·¯å¾„é•¿åº¦$\delta(u,v)$å®šä¹‰å¦‚ä¸‹ï¼š

$$
\begin{align*}
    \quad \delta(u,v) = \begin{cases} \min \{ \ell(p) : u \overset{p}{\rightsquigarrow} v \}, & \text{å¦‚æœå­˜åœ¨ } u \text { åˆ° } v \text{ çš„è·¯å¾„} \\ \infty, & \ow \end{cases}
\end{align*}
$$

å•æºæœ€çŸ­è·¯å¾„ï¼šæ‰¾å‡ºç»™å®šæºç‚¹$s$åˆ°å…¶å®ƒæ‰€æœ‰ç‚¹$v$çš„æœ€çŸ­è·¯å¾„

- ç»™å®šä¸¤ä¸ªç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼Œè¿™æ˜¾ç„¶æ˜¯å•æºæœ€çŸ­è·¯å¾„çš„å­é—®é¢˜
- å•ç›®çš„ç‚¹çš„æœ€çŸ­è·¯å¾„é—®é¢˜ï¼šç¿»è½¬åŸå›¾ä¸­æ‰€æœ‰è¾¹çš„æ–¹å‘
- æ‰€æœ‰ç»“ç‚¹å¯¹çš„æœ€çŸ­è·¯å¾„ï¼Œå¯¹æ‰€æœ‰ç‚¹è¿è¡Œä¸€æ¬¡å•æºæœ€çŸ­è·¯å¾„ç®—æ³•

<!-- slide vertical=true data-notes="" -->

##### é—®é¢˜çº¦å®š

---

è®¾æœ€çŸ­è·¯å¾„æ˜¯ç®€å•è·¯å¾„ï¼Œå³ä¸åŒ…å«ç¯è·¯ã€æœ€å¤šæœ‰$|\Vcal|-1$æ¡è¾¹

- è‹¥æœ€çŸ­è·¯å¾„åŒ…å«æƒé‡éè´Ÿçš„ç¯è·¯ï¼Œå»æ‰è¯¥ç¯ä¾ç„¶æ˜¯æœ€çŸ­è·¯å¾„
- å›¾ä¸­ä¸å¯èƒ½æœ‰æƒé‡ä¸ºè´Ÿçš„ç¯è·¯ï¼Œå¦åˆ™æœ€çŸ­è·¯å¾„ä¸å­˜åœ¨ (æ²¿ç€ç¯ä¸€ç›´è½¬)

@import "../tikz/sp-loop.svg" {.center .width40 .top5}

<!-- slide vertical=true data-notes="" -->

##### æœ€çŸ­è·¯å¾„ æœ€ä¼˜å­ç»“æ„

---

è®¾è·¯å¾„$p = \langle v_0, v_1, \ldots, v_k \rangle$æ˜¯ä»$v_0$åˆ°$v_k$çš„ä¸€æ¡æœ€çŸ­è·¯å¾„ï¼Œåˆ™å¯¹ä»»æ„$0 \le i < j \le k$ï¼Œå­è·¯å¾„$\langle v_i, v_{i+1}, \ldots, v_j \rangle$æ˜¯ä»$v_i$åˆ°$v_j$çš„æœ€çŸ­è·¯å¾„

å°†è·¯å¾„$p$åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œ$v_0 \overset{p_1}{\rightsquigarrow} v_i \overset{p_2}{\rightsquigarrow} v_j \overset{p_3}{\rightsquigarrow} v_k$

è‹¥$p_2$ä¸æ˜¯æœ€çŸ­è·¯å¾„ï¼Œè®¾$p'_2$æ›´çŸ­ï¼Œåˆ™$v_0 \overset{p_1}{\rightsquigarrow} v_i \overset{p'_2}{\rightsquigarrow} v_j \overset{p_3}{\rightsquigarrow} v_k$ä¹Ÿæ›´çŸ­

<div class="bottom4"></div>

---

<div class="bottom2"></div>

å­è·¯å¾„çš„è®¡ç®—æ˜¾ç„¶æœ‰å¤§é‡é‡å¤

æœ€ä¼˜åŒ–é—®é¢˜ + æœ€ä¼˜å­ç»“æ„ + é‡å¤è®¡ç®— ï¼Ÿ

<!-- slide data-notes="" -->

##### æœ€çŸ­è·¯å¾„ åŠ¨æ€è§„åˆ’

---

è‡ªåº•å‘ä¸Šï¼Œä½•ä¸ºåº•ï¼Œä½•ä¸ºé¡¶ï¼Ÿ

<div class="top4"></div>

æˆ‘çš„å¯ç¤º æœ€çŸ­è·¯å¾„çš„è¾¹æ•°æœ‰ä¸Šç•Œï¼Œä¸è¶…è¿‡$|\Vcal|-1$

<div class="top6"></div>

$$
\begin{align*}
    \qquad \qquad \begin{matrix}
    \text{ç»è¿‡ä¸è¶…è¿‡ }|\Vcal|-1\text{ æ¡è¾¹çš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦} \\
    \vdots \\
    \text{ç»è¿‡ä¸è¶…è¿‡ }2\text{ æ¡è¾¹çš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦} \\
    \text{ç»è¿‡ä¸è¶…è¿‡ }1\text{ æ¡è¾¹çš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦} \\
    \end{matrix}
    \qquad \quad \Bigg \Uparrow
\end{align*}
$$

<!-- slide vertical=true data-notes="" -->

##### æœ€çŸ­è·¯å¾„ é€’æ¨å…³ç³»å¼

---

$v.d^{(k)}$ï¼šä»$s$å‡ºå‘ç»è¿‡ä¸è¶…è¿‡$k$æ¡è¾¹åˆ°è¾¾ç‚¹$v$çš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦

- åˆå§‹$k=0$ï¼Œ$s$åˆ°å…¶ä»–ç‚¹éƒ½ä¸å¯è¾¾ï¼Œ$v.d^{(0)} = \infty$
- æœ€ç»ˆ$k = |\Vcal| - 1$ï¼Œå› ä¸ºæœ€çŸ­è·¯å¾„çš„è¾¹æ•°ä¸è¶…è¿‡$|\Vcal|-1$

<div class="top4"></div>

ç›´è§‰ä¸Šå…è®¸ç»è¿‡çš„è¾¹è¶Šå¤šï¼Œæœ€çŸ­è·¯å¾„è¶ŠçŸ­

<div class="top2"></div>

å½“å…è®¸ç»è¿‡çš„è¾¹æ•°ä»$k-1$æ¡æ”¾å®½è‡³$k$æ¡

- æ²¡æœ‰æ”¶ç›Šï¼Œæ­¤æ—¶$v.d^{(k)} = v.d^{(k-1)}$
- æœ‰æ”¶ç›Šï¼Œç»è¿‡$k-1$æ¡è¾¹åˆ°ç‚¹$u$åå†åˆ°$v$ï¼Œ$v.d^{(k)} = u.d^{(k-1)} + w(u,v)$

<div class="top4"></div>

$$
\begin{align*}
    \quad v.d^{(k)} = \begin{cases} \infty, & k = 0 \\ \min \{ v.d^{(k-1)}, ~ \min_u \{ u.d^{(k-1)} + w(u,v) \} \}, & 0 < k \le |\Vcal|-1 \end{cases}
\end{align*}
$$

<!-- slide data-notes="" -->

##### <span style="font-weight:900">Bellman-Ford</span> å¡«è¡¨

---

<div class="top2"></div>

$$
\begin{align*}
    \quad v.d^{(k)} = \begin{cases} \infty, & k = 0 \\ \min \{ v.d^{(k-1)}, ~ \min_u \{ u.d^{(k-1)} + w(u,v) \} \}, & 0 < k \le |\Vcal|-1 \end{cases}
\end{align*}
$$

<div class="top-2"></div>

æœ€ç»ˆ$u.d^{(|\Vcal|-1)} = \delta(s,v)$å°±æ˜¯æºç‚¹$s$åˆ°$v$çš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦

@import "../codes/bellman-ford.py" {line_begin=0 line_end=11 .left4 .line-numbers .top1 .bottom1}

å†…å±‚äºŒé‡ for å¾ªç¯å…¶å®æ˜¯éå†æ‰€æœ‰è¾¹ï¼Œæ—¶é—´å¤æ‚åº¦$\Theta(|\Vcal||\Ecal|)$

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">Bellman-Ford</span> ä¾‹å­

---

$|\Vcal|=5$

@import "../tikz/sp-bellman-ford.svg" {.center .width90 .top0}

<!-- slide data-notes="" -->

##### <span style="font-weight:900">Bellman-Ford</span> è´Ÿç¯æ£€æµ‹

---

å¯¹ä»»æ„è¾¹$(u,v)$åº”æœ‰{==ä¸‰è§’ä¸ç­‰å¼==}$\delta(s,v) \le \delta(s,u) + w(u,v)$

å‡å¦‚å›¾ä¸­æœ‰ä»æºç‚¹å¯è¾¾çš„è´Ÿç¯$v_i, v_{i+1}, \ldots, v_{j-1}, v_j$ï¼Œå…¶ä¸­$v_j = v_i$

$$
\begin{align*}
    \quad 0 & = \sum_{k=i}^{j-1} \delta(s,v_k) - \sum_{k=i}^{j-1} \delta(s,v_{k+1}) \overset{\text{ä¸‰è§’ä¸ç­‰å¼}}{\le} ~ \sum_{k=i}^{j-1} w(v_k,v_{k+1}) \overset{\text{è´Ÿç¯}}{<} 0
\end{align*}
$$

<div class="top-2"></div>

æ•…å›¾ä¸­è‹¥æœ‰è´Ÿç¯ï¼Œä¸‰è§’ä¸ç­‰å¼ä¸å¯èƒ½æˆç«‹

<div class="top4"></div>

{==è´Ÿç¯æ£€æµ‹==}ï¼šåœ¨æ±‚å¾—$\delta(s,v)$åï¼Œå¯¹æ‰€æœ‰è¾¹æ£€æµ‹ä¸€éä¸‰è§’ä¸ç­‰å¼

æ—¶é—´å¤æ‚åº¦$\Theta(|\Ecal|)$

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">Bellman-Ford</span> å®ç°

---

@import "../codes/bellman-ford.py" {.left4 .line-numbers .top0}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">Bellman-Ford</span> å°ç»“

---

æœ€çŸ­è·¯å¾„å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§ï¼Œé€’æ¨å…³ç³»

$$
\begin{align*}
    v.d^{(k)} = \begin{cases} \infty, & k = 0 \\ \min \{ v.d^{(k-1)}, ~ \min_u \{ u.d^{(k-1)} + w(u,v) \} \}, & 0 < k \le |\Vcal|-1 \end{cases}
\end{align*}
$$

<div class="top6"></div>

å¯¼è®ºä¹¦ä¸Šæ²¡æœ‰ä»åŠ¨æ€è§„åˆ’çš„è§’åº¦è®²

å¯¼è®ºä¹¦ä¸Šç§°$v.d \leftarrow \min \{ v.d, ~ u.d + w(u,v) \}$ä¸º{==æ¾å¼›==} (relax)

ç®—æ³•çš„æ­£ç¡®æ€§é€šè¿‡å¯¹æ¾å¼›æ“ä½œåˆ†æå¾—åˆ°ï¼Œå…·ä½“å‚é˜… ğŸ“š

<!-- slide data-notes="" -->

##### æœ€çŸ­è·¯å¾„ è´ªå¿ƒåŠ é€Ÿï¼Ÿ

---

ä»$s$å‡ºå‘åªæœ‰$t$å’Œ$y$ä¸€æ­¥èƒ½åˆ°ï¼Œå…¶å®ƒç‚¹è‡³å°‘éœ€ç»è¿‡å…¶ä¸­æŸä¸ªç‚¹

æ³¨æ„$w(s,t) = 6 < 7 = w(s,y)$ï¼Œè‹¥åšè´ªå¿ƒé€‰æ‹©ï¼Œåº”è¯¥å…ˆé€‰æ‹©$t$

è‡³å°‘ä»$s$åˆ°$t$çš„æœ€çŸ­è·¯å¾„åº”è¯¥æ˜¯$s \rightarrow t$ï¼Œä½†å®é™…ä¹Ÿæ˜¯ä»$y$ä¸­è½¬

ä»$y$å‡ºå‘åç»­æœ‰è´Ÿæƒé‡çš„è¾¹å¯ä»¥å†å‡å°‘è·¯å¾„é•¿åº¦

è‹¥æƒ³è´ªå¿ƒï¼Œä¸èƒ½æœ‰è´Ÿæƒé‡çš„è¾¹

@import "../tikz/sp-bellman-ford-final.svg" {.lefta .right4 .width35 .top-10}

<!-- slide data-notes="" -->

##### <span style="font-weight:900">Dijkstra</span> ç®—æ³•

---

å‡è®¾å›¾ä¸­ä¸å†æœ‰è´Ÿæƒé‡çš„è¾¹æ¥å‡å°‘è·¯å¾„é•¿åº¦

å¼•å…¥å·²ç¡®å®šæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹é›†åˆ$\Scal$ï¼Œåˆå§‹ä¸ºç©º

è´ªå¿ƒé€‰æ‹©ï¼šä»$\Vcal \setminus \Scal$ä¸­é€‰æ‹©æœ€çŸ­è·¯å¾„{==ä¼°è®¡å€¼==}æœ€å°çš„ç»“ç‚¹åŠ å…¥$\Scal$

$s.d = 0$ã€$y.d = t.d = x.d = z.d = \infty$

å°†$s$åŠ å…¥$\Scal$ï¼Œ$\Scal = \{ s \}$

@import "../tikz/sp-2.svg" {.lefta .right4 .width40 .top-8}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">Dijkstra</span> ç®—æ³•

---

$S = \{ s \}$ï¼Œæ ¹æ®$\delta(s,s) = 0$æ›´æ–°æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼

- $t.d = \infty \rightarrow s.d = \delta(s,y) + w(s,t) = 0 + 10 = 10$
- $y.d = \infty \rightarrow y.d = \delta(s,y) + w(s,y) = 0 + 5 = 5$
- $x.d = z.d = \infty$

<div class="top2"></div>

å°†$y$åŠ å…¥$\Scal$ï¼Œ$\Scal = \{ s, y \}$

@import "../tikz/sp-dijkstra-1.svg" {.lefta .right4 .width40 .top-8}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">Dijkstra</span> ç®—æ³•

---

$S = \{ s, y \}$ï¼Œæ ¹æ®$\delta(s,y) = 5 ~ (?)$æ›´æ–°æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼

- $t.d = 10 \rightarrow t.d = \delta(s,y) + w(y,t) = 5 + 3 = 8$
- $x.d = \infty \rightarrow x.d = \delta(s,y) + w(y,x) = 5 + 9 = 14$
- $z.d = \infty \rightarrow z.d = \delta(s,y) + w(y,z) = 5 + 2 = 7$

<div class="top2"></div>

å°†$z$åŠ å…¥$\Scal$ï¼Œ$\Scal = \{ s, y , z \}$ï¼Œå¦‚æ­¤è¿­ä»£ä¸‹å»

@import "../tikz/sp-dijkstra-2.svg" {.lefta .right4 .width40 .top0}

<!-- slide data-notes="" -->

##### <span style="font-weight:900">Dijkstra</span> ç®—æ³• ä¾‹å­

---

@import "../tikz/sp-dijkstra.svg" {.center .width92 .top4}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">Dijkstra</span> ç®—æ³• å®ç°

---

@import "../codes/dijkstra.py" {.left4 .line-numbers .top0}

<!-- slide data-notes="" -->

##### <span style="font-weight:900">Dijkstra</span> ç®—æ³• æ­£ç¡®æ€§

---

ä¸å˜å¼ï¼šåœ¨å¤–å±‚ for å¾ªç¯æ¯æ¬¡æ‰§è¡Œå‰ï¼Œå¯¹$\forall u \in \Scal$æœ‰$u.d = \delta (s,u)$

- æ ¹æ®ç®—æ³•æµç¨‹ï¼Œç‚¹$u$ä¸€æ—¦åŠ å…¥$\Scal$ï¼Œå°±ä¸ä¼šå†ä¿®æ­£$u.d$
- åªéœ€è¯æ˜å¯¹$\forall u \in \Scal$ï¼Œå½“å…¶è¢«åŠ å…¥åˆ°$\Scal$æ—¶æœ‰$u.d = \delta (s,u)$

<div class="top2"></div>

åˆå§‹$\Scal = \emptyset$ï¼Œä¹‹åæºç‚¹$s$ç¬¬ä¸€ä¸ªåŠ å…¥$\Scal$ï¼Œæ˜¾ç„¶$s.d = \delta (s,s) = 0$

è®¾$u$æ˜¯{==ç¬¬ä¸€ä¸ª==}åŠ å…¥$\Scal$æ—¶$u.d \ne \delta (s,u)$çš„ç‚¹

æ­¤æ—¶å¿…å­˜åœ¨$s$åˆ°$u$çš„è·¯å¾„ï¼Œå¦åˆ™$u.d = \delta (s,u) = \infty$ï¼Œä¸å‡è®¾çŸ›ç›¾

è®¾$s$åˆ°$u$çš„æœ€çŸ­è·¯å¾„ä¸º$p$

@import "../tikz/dijkstra-proof.svg" {.lefta .right4 .width35 .top-8}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">Dijkstra</span> ç®—æ³• æ­£ç¡®æ€§

---

ä¸‹é¢è¯´æ˜$u$æ˜¯è·¯å¾„$p$ä¸Šç¬¬ä¸€ä¸ª (ä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ª) ä¸åœ¨$\Scal$ä¸­çš„ç‚¹

<div class="top-1"></div>

å¦åˆ™è®¾$u$å‰è¿˜æœ‰$y \not \in \Scal$ï¼Œç”±äº$y.d < u.d$ï¼Œåº”è¯¥åŠ å…¥çš„æ˜¯$y$ä¸æ˜¯$u$

è®¾$u$çš„å‰é©±$x \in \Scal$ï¼Œ$x$åœ¨$u$ä¹‹å‰åŠ å…¥$\Scal$ï¼Œå› æ­¤$x.d = \delta(s,x)$

åœ¨$x$åŠ å…¥$\Scal$æ—¶ä¼šæ›´æ–°$x$æŒ‡å‘çš„æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼

$u.d = x.d + w(x,u) = \delta(s,x) + w(x,u)$

æ ¹æ®æœ€ä¼˜å­ç»“æ„æ€§ï¼Œ$u.d = \delta(s,u)$

@import "../tikz/dijkstra-proof.svg" {.lefta .right4 .width35 .top-10}

<!-- slide data-notes="" -->

##### å·®åˆ†çº¦æŸç³»ç»Ÿ

---

å‡è®¾ä¸€ä¸ªç”Ÿäº§å·¥åºæœ‰$n$ä¸ªæ­¥éª¤ï¼Œåœ¨æ—¶åˆ»$x_i$è¿›è¡Œç¬¬$i$ä¸ªæ­¥éª¤

æ­¥éª¤çš„æ‰§è¡Œæ—¶é—´ä¼šæœ‰ä¸€äº›çº¦æŸ

åœ¨æ—¶åˆ»$x_i$ä½¿ç”¨ä¸€ç§éœ€è¦$2$ä¸ªå°æ—¶æ‰èƒ½é£å¹²çš„ç²˜è´´å‰‚ææ–™

ä¸‹ä¸€ä¸ªæ­¥éª¤éœ€è¦$2$å°æ—¶åç­‰ç²˜è´´å‰‚å¹²äº†æ‰èƒ½åœ¨æ—¶åˆ»$x_{i+1}$å®‰è£…

è¿™æ ·å°±æœ‰çº¦æŸæ¡ä»¶$x_i - x_{i+1} \le -2$

<!-- slide vertical=true data-notes="" -->

##### å·®åˆ†çº¦æŸç³»ç»Ÿ

---

æŠŠæ‰€æœ‰çš„çº¦æŸæ¡ä»¶å†™åˆ°ä¸€ä¸‹å°±æ˜¯å·®åˆ†çº¦æŸç³»ç»Ÿ

$$
\begin{align*}
    \quad \begin{cases}
        x_1 - x_2 \le 0 \\
        x_1 - x_5 \le -1 \\
        x_2 - x_5 \le 1 \\
        x_3 - x_1 \le 5 \\
        x_4 - x_1 \le 4 \\
        x_4 - x_3 \le -1 \\
        x_5 - x_3 \le -3 \\
        x_5 - x_4 \le -3
    \end{cases} \quad \Longleftrightarrow \quad
    \underbrace{\begin{bmatrix}
        1 & -1 & 0 & 0 & 0 \\
        1 & 0 & 0 & 0 & -1 \\
        0 & 1 & 0 & 0 & -1 \\
        -1 & 0 & 1 & 0 & 0 \\
        -1 & 0 & 0 & 1 & 0 \\
        0 & 0 & -1 & 1 & 0 \\
        0 & 0 & -1 & 0 & 1 \\
        0 & 0 & 0 & -1 & 1
    \end{bmatrix}}_{\Av ~ \in ~ \{ \pm 1, 0 \}^{m \times n}} \underbrace{\begin{bmatrix}
        x_1 \\ x_2 \\ x_3 \\ x_4 \\ x_5
    \end{bmatrix}}_{\xv ~ \in ~ \Rbb^n} \le \underbrace{\begin{bmatrix}
        0 \\ -1 \\ 1 \\ 5 \\ 4 \\ -1 \\ -3 \\ -3
    \end{bmatrix}}_{\bv ~ \in ~ \Rbb^m}
\end{align*}
$$

<div class="top-3"></div>

æ»¡è¶³$\Av \xv \le \bv$çš„$\xv$ç§°ä¸ºå·®åˆ†çº¦æŸç³»ç»Ÿçš„è§£

<div class="top-1"></div>

å·®åˆ†çº¦æŸç³»ç»Ÿçš„è§£{==ä¸å”¯ä¸€==}ï¼Œè‹¥$\xv$æ˜¯è§£ï¼Œåˆ™$\xv + c \onev$ä¹Ÿæ˜¯è§£

<!-- slide vertical=true data-notes="" -->

##### çº¦æŸå›¾

---

ç»™å®šå·®åˆ†çº¦æŸç³»ç»Ÿ$\Av \xv \le \bv$ï¼Œå…¶çº¦æŸå›¾æ˜¯å¸¦æƒæœ‰å‘å›¾$\Gcal = (\Vcal, \Ecal)$

- $\Vcal = \{ v_0, v_1, \ldots, v_n \}$ï¼Œæ¯ä¸ª$x_i$å¯¹åº”ä¸€ä¸ª$v_i$ï¼Œæ­¤å¤–å¼•å…¥ä¸€ä¸ªé¢å¤–çš„$v_0$
- $\Ecal = \{ (v_i, v_j) \mid x_j -x_i \le b_k \} \cup \{ (v_0, v_1), (v_0,v_2), \ldots, (v_0, v_n) \}$ï¼Œæ¯ä¸ªçº¦æŸå¯¹åº”ä¸€æ¡è¾¹ï¼Œæƒé‡ä¸º$b_k$ï¼Œ$v_0$æŒ‡å‘å…¶å®ƒæ‰€æœ‰ç‚¹çš„è¾¹æƒé‡ä¸º$0$

<div class="top8"></div>

$$
\begin{align*}
    \qquad \begin{cases}
        x_1 - x_2 \le 0 \\
        x_1 - x_5 \le -1 \\
        x_2 - x_5 \le 1 \\
        x_3 - x_1 \le 5 \\
        x_4 - x_1 \le 4 \\
        x_4 - x_3 \le -1 \\
        x_5 - x_3 \le -3 \\
        x_5 - x_4 \le -3
    \end{cases} \quad \Longrightarrow
\end{align*}
$$

@import "../tikz/difference-constraints.svg" {.left42per .width48 .top-35per}

<!-- slide data-notes="" -->

##### æ ¹æ®çº¦æŸå›¾æ±‚è§£

---

ç»™å®šå·®åˆ†çº¦æŸç³»ç»Ÿ$\Av \xv \le \bv$ï¼Œå…¶çº¦æŸå›¾æ˜¯å¸¦æƒæœ‰å‘å›¾$\Gcal = (\Vcal, \Ecal)$

è‹¥$\Gcal$åŒ…å«è´Ÿç¯ï¼Œç³»ç»Ÿæ— è§£ï¼Œå¦åˆ™æœ‰è§£$\xv = [\delta(v_0, v_1), \ldots, \delta(v_0, v_n)]$

<div class="top2"></div>

è®¾è´Ÿç¯ä¸º$v_i, v_{i+1}, \ldots, v_{j-1}, v_j$ï¼Œå…¶ä¸­$v_j = v_i$ï¼Œåˆ™

$$
\begin{align*}
    \quad (v_i, v_{i+1}) & \Longleftrightarrow x_{i+1} - x_i \le w(v_i, v_{i+1}) \\
    (v_{i+1}, v_{i+2}) & \Longleftrightarrow x_{i+2} - x_{i+1} \le w(v_{i+1}, v_{i+2}) \\
    & \quad \vdots \\
    (v_{j-1}, v_j) & \Longleftrightarrow x_j - x_{j-1} \le w(v_{j-1}, v_j)
\end{align*}
$$

<div class="top-2"></div>

æ³¨æ„$x_j = x_i$ï¼Œç´¯åŠ å¯å¾—$0 \le \sum_{k=i}^{j-1} w(v_k,v_{k+1}) \overset{\text{è´Ÿç¯}}{<} 0$

<!-- slide vertical=true data-notes="" -->

##### æ ¹æ®çº¦æŸå›¾æ±‚è§£

---

ç»™å®šå·®åˆ†çº¦æŸç³»ç»Ÿ$\Av \xv \le \bv$ï¼Œå…¶çº¦æŸå›¾æ˜¯å¸¦æƒæœ‰å‘å›¾$\Gcal = (\Vcal, \Ecal)$

è‹¥$\Gcal$åŒ…å«è´Ÿç¯ï¼Œç³»ç»Ÿæ— è§£ï¼Œå¦åˆ™æœ‰è§£$\xv = [\delta(v_0, v_1), \ldots, \delta(v_0, v_n)]$

<div class="top2"></div>

å¯¹$\forall (v_i, v_j) \in \Ecal$ï¼Œå¯¹åº”çº¦æŸ$x_j - x_i \le w(v_i, v_j)$ï¼Œæ ¹æ®ä¸‰è§’ä¸ç­‰å¼

$$
\begin{align*}
    \quad \delta(v_0, v_j) \le \delta(v_0, v_i) + w(v_i, v_j) \Longrightarrow \delta(v_0, v_j) - \delta(v_0, v_i) \le w(v_i, v_j)
\end{align*}
$$

<div class="top-3"></div>

å–$x_j = \delta(v_0, v_j)$ã€$x_i = \delta(v_0, v_i)$å³å¯

<div class="top2"></div>

ç»¼ä¸Šï¼Œå¯å¯¹å…¶çº¦æŸå›¾ä»¥$v_0$ä¸ºæºç‚¹è¿è¡Œ Bellman-Ford ç®—æ³•

- è‹¥æ£€æµ‹åˆ°è´Ÿç¯ï¼Œåˆ™åŸå·®åˆ†çº¦æŸç³»ç»Ÿæ— è§£
- è‹¥æ— è´Ÿç¯ï¼Œåˆ™$v_0$åˆ°å…¶å®ƒç‚¹çš„æœ€çŸ­è·¯å¾„å°±æ˜¯åŸå·®åˆ†çº¦æŸç³»ç»Ÿçš„ä¸€ä¸ªè§£

<!-- slide vertical=true data-notes="" -->

##### æ ¹æ®çº¦æŸå›¾æ±‚è§£

---

<div class="top8"></div>

$$
\begin{align*}
    \qquad \begin{cases}
        x_1 - x_2 \le 0 \\
        x_1 - x_5 \le -1 \\
        x_2 - x_5 \le 1 \\
        x_3 - x_1 \le 5 \\
        x_4 - x_1 \le 4 \\
        x_4 - x_3 \le -1 \\
        x_5 - x_3 \le -3 \\
        x_5 - x_4 \le -3
    \end{cases} \quad \Longrightarrow
\end{align*}
$$

@import "../tikz/difference-constraints2.svg" {.left42per .width50 .top-34per}

$\xv = [-5, -3, 0, -1, -4]$å°±æ˜¯ä¸€ä¸ªè§£
