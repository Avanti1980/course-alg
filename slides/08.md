---
presentation:
  margin: 0
  center: false
  transition: "convex"
  enableSpeakerNotes: true
  slideNumber: "c/t"
  navigationMode: "linear"
---

@import "../css/font-awesome-4.7.0/css/font-awesome.css"
@import "../css/theme/solarized.css"
@import "../css/logo.css"
@import "../css/font.css"
@import "../css/color.css"
@import "../css/margin.css"
@import "../css/table.css"
@import "../css/main.css"
@import "../plugin/zoom/zoom.js"
@import "../plugin/customcontrols/plugin.js"
@import "../plugin/customcontrols/style.css"
@import "../plugin/chalkboard/plugin.js"
@import "../plugin/chalkboard/style.css"
@import "../plugin/menu/menu.js"

<!-- slide id="front-page" data-notes="" -->

<div class="bottom20"></div>

# ç®—æ³•è®¾è®¡ä¸åˆ†æ

<hr class="width70 center">

## å›æº¯æ³•

<div class="bottom8"></div>

### è®¡ç®—æœºå­¦é™¢ &nbsp;&nbsp; å¼ è…¾

#### _tengzhang@hust.edu.cn_

<!-- slide vertical=true data-notes="" -->

##### è¯¾ç¨‹å¤§çº²

---

@import "../vega/outline-backtracking.json" {as="vega" .top-2}

<!-- slide data-notes="" -->

##### å›æº¯æ³•

---

æœ‰äº›é—®é¢˜è¦æ±‚åœ¨ç›¸å¯¹äºè¾“å…¥è§„æ¨¡å‘ˆæŒ‡æ•°å¢é•¿çš„åŸŸä¸­å¯»æ‰¾ç‰¹å®šå…ƒç´ 

<div class="top-1"></div>

æš´åŠ›ç©·ä¸¾ï¼Œæ£€æŸ¥æ‰€æœ‰çš„å…ƒç´ ï¼Ÿæ—¶é—´å¼€é”€éš¾ä»¥æ‰¿å—

<div class="top2"></div>

å›æº¯æ³•ï¼š{==å¯¹æš´åŠ›ç©·ä¸¾æ³•çš„æ”¹è¿›==}ï¼Œ{==å¸¦å‰ªæçš„æœç´¢==}

<div class="top-1"></div>

åŸºæœ¬æ€è·¯ï¼šå°†è§£è¡¨ç¤ºæˆ{==å…ƒç»„==}çš„å½¢å¼ï¼Œä¾æ¬¡æ„å»ºå…¶åˆ†é‡ï¼Œå½“æ„å»ºå®ŒæŸä¸ªåˆ†é‡åå‘ç°ä¹‹åçš„åˆ†é‡æ— è®ºæ€ä¹ˆæ„å»ºéƒ½ä¸å¯èƒ½å¾—åˆ°ä¸€ä¸ªè§£ï¼Œå°±ææ—©å›å¤´ï¼Œè°¨é˜²ä¸€æ¡é“èµ°åˆ°é»‘

<div class="top2"></div>

æœ€åæƒ…å†µä¸‹ä¾ç„¶å’Œæš´åŠ›ç©·ä¸¾æ³•æœ‰åŒæ ·çš„æ—¶é—´å¤æ‚åº¦ï¼

<div class="top-1"></div>

ä½†æ˜¯å¯¹æŸäº›ç»„åˆéš¾é¢˜ï¼Œå¯ä»¥æ±‚è§£å…¶è¾ƒå¤§å®ä¾‹

<!-- slide data-notes="" -->

##### <span style="font-weight:900">n</span>-çš‡åé—®é¢˜

---

åœ¨ n Ã— n çš„æ£‹ç›˜ä¸Šæ”¾ç½® n ä¸ªçš‡åï¼Œä½¿å¾—ä»»æ„ä¸¤ä¸ªçš‡åéƒ½ä¸èƒ½äº’ç›¸æ”»å‡»ï¼šä¸åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€æ¡æ–œè§’çº¿ä¸Š

<div class="top-3 tighttable row1-8-column2-9-fullborder row1-8-column13-20-fullborder queen8-base2">

| &zwnj; |   1    |   2    |   3    |   4    |   5    |   6    |   7    |   8    | &zwnj; | &zwnj; | &zwnj; |   1    |   2    |   3    |   4    |   5    |   6    |   7    |   8    |
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |
|   1    | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   1    | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |
|   2    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   2    | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; |
|   3    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; |   3    | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |
|   4    | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   4    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   |
|   5    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; |   5    |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |
|   6    |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   6    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; |
|   7    | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   7    | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; |
|   8    | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   8    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; |

</div>

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">4</span>-çš‡åé—®é¢˜åˆè¯•

---

@import "../dot/four-queen.dot" {.center .top-8}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">n</span>-çš‡åé—®é¢˜

---

çš‡åç¼–å·ï¼š$1, \ldots, n$ï¼Œä¸å¤±ä¸€èˆ¬æ€§ï¼Œçº¦å®šçš‡å$i$æ”¾åœ¨ç¬¬$i$è¡Œ

{==è§£çš„è¡¨ç¤º==}ï¼š$n$-å…ƒç»„$(x_1, \ldots, x_n)$ï¼Œå…¶ä¸­$x_i$æ˜¯çš‡å$i$æ‰€åœ¨åˆ—å·

æ˜¾å¼çº¦æŸæ¡ä»¶ï¼š$x_i \in \{1, \ldots, n\}$

è§£ç©ºé—´ï¼šæ‰€æœ‰å¯èƒ½çš„$n$å…ƒç»„ï¼Œå…±æœ‰$n^n$ä¸ª

éšå¼çº¦æŸæ¡ä»¶ï¼šæ²¡æœ‰ä¸¤ä¸ª$x_i$ç›¸åŒï¼Œæ²¡æœ‰ä¸¤ä¸ªçš‡ååœ¨åŒä¸€æ¡æ–œè§’çº¿ä¸Šï¼Œå³å¯¹ä»»æ„$i \ne j$æœ‰$|x_i - x_j| \ne |i - j|$

ç”±éšå¼çº¦æŸæ¡ä»¶å¯çŸ¥å¯èƒ½çš„è§£åªèƒ½æ˜¯$\{1, \ldots, n\}$çš„ç½®æ¢ (æ’åˆ—)ï¼Œæœ€å¤šæœ‰$n!$ä¸ª

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">n</span>-çš‡åé—®é¢˜

---

<div class="top-3 tighttable row1-8-column2-9-fullborder row1-8-column13-20-fullborder queen8-base2">

| &zwnj; |   1    |   2    |   3    |   4    |   5    |   6    |   7    |   8    | &zwnj; | &zwnj; | &zwnj; |   1    |   2    |   3    |   4    |   5    |   6    |   7    |   8    |
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |
|   1    | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   1    | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |
|   2    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   2    | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; |
|   3    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; |   3    | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |
|   4    | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   4    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   |
|   5    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; |   5    |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |
|   6    |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   6    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; |
|   7    | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   7    | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; |
|   8    | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   8    | &zwnj; | &zwnj; | &zwnj; | &zwnj; | &zwnj; |   ğŸ‘‘   | &zwnj; | &zwnj; |

</div>

ä¸¤ä¸ªè§£åˆ†åˆ«æ˜¯$(4, 6, 8, 2, 7, 1, 3, 5)$ã€$(3, 5, 2, 8, 1, 7, 4, 6)$

<!-- slide data-notes="" -->

##### è§£ç©ºé—´çš„ç»„ç»‡

---

å›æº¯æ³•ç³»ç»Ÿæ£€æŸ¥é—®é¢˜çš„è§£ç©ºé—´æ¥æ±‚è§£ï¼Œä¸é—æ¼ä¸é‡å¤

{==çŠ¶æ€ç©ºé—´æ ‘==}ï¼šæ¯ä¸ªç»“ç‚¹å¯¹åº”ä¸€ä¸ªæ£‹ç›˜çŠ¶æ€

- æ ¹ç»“ç‚¹ä»£è¡¨æŸ¥æ‰¾è§£ä¹‹å‰çš„åˆå§‹çŠ¶æ€
- ç¬¬ä¸€å±‚ç»“ç‚¹ä»£è¡¨å¯¹è§£çš„ç¬¬ä¸€ä¸ªåˆ†é‡æ‰€åšçš„é€‰æ‹©
- ç¬¬äºŒå±‚ç»“ç‚¹ä»£è¡¨å¯¹è§£çš„ç¬¬äºŒä¸ªåˆ†é‡æ‰€åšçš„é€‰æ‹©
- â€¦â€¦

<!-- slide vertical=true data-notes="" -->

##### çŠ¶æ€ç©ºé—´æ ‘ æ— å‰ªæ

---

@import "../dot/four-queen-solution-space.dot" {.center .top0}

<div class="top0"></div>

ç¬¬$i$å±‚çš„è¾¹ä¸Šæ•°å­—$j$è¡¨ç¤ºå°†çš‡å$i$æ”¾åˆ°ç¬¬$j$åˆ—

<div class="top-2"></div>

$24$ä¸ªå¶ç»“ç‚¹å¯¹åº”$4! = 24$ä¸ªè§£

<!-- slide vertical=true data-notes="" -->

##### çŠ¶æ€ç©ºé—´æ ‘ å‰ªæ

---

{==é™ç•Œå‡½æ•°==}ï¼šå¯¹åº”é—®é¢˜çš„çº¦æŸï¼Œç”¨æ¥æ€æ­»ä¸æ»¡è¶³çº¦æŸçš„ç»“ç‚¹

ä¸‰ç±»ç»“ç‚¹

- {==æ´»ç»“ç‚¹==}ï¼šè‡ªå·±å·²ç»ç”Ÿæˆï¼Œä½†å­ç»“ç‚¹è¿˜æ²¡å…¨éƒ¨ç”Ÿæˆå¹¶ä¸”æœ‰å¾…ç”Ÿæˆ
- {==E-ç»“ç‚¹==}ï¼šå½“å‰æ­£åœ¨ç”Ÿæˆå…¶å­ç»“ç‚¹çš„æ´»ç»“ç‚¹
- {==æ­»ç»“ç‚¹==}ï¼šè¢«é™ç•Œå‡½æ•°æ€æ­»æˆ–è€…å…¶å­ç»“ç‚¹å·²å…¨éƒ¨ç”Ÿæˆçš„ç»“ç‚¹

<div class="top2"></div>

ä¸¤ç§ç­–ç•¥ï¼š

- {==æ·±åº¦ä¼˜å…ˆ==}ï¼šå¯¹åº”{==å›æº¯==}ï¼Œå½“ E-ç»“ç‚¹ R ä¸€æ—¦ç”Ÿæˆä¸€ä¸ªæ–°çš„å„¿å­ C æ—¶ï¼ŒC å°±å˜æˆäº†æ–°çš„ E-ç»“ç‚¹ï¼Œå½“å®Œå…¨æ£€æµ‹äº†å­æ ‘ C ä¹‹åï¼ŒR ç»“ç‚¹å†æ¬¡æˆä¸º E-ç»“ç‚¹
- {==å®½åº¦ä¼˜å…ˆ==}ï¼šå¯¹åº”{==åˆ†æ”¯é™ç•Œ==}ï¼Œä¸€ä¸ª E-ç»“ç‚¹ä¸€ç›´ä¿æŒåˆ°å˜æˆæ­»ç»“ç‚¹ä¸ºæ­¢

<!-- slide data-notes="" -->

##### <span style="font-weight:900">4</span>-çš‡åé—®é¢˜ å›æº¯æ±‚è§£

---

{==è§£çš„è¡¨ç¤º==}ï¼š$4$-å…ƒç»„$(x_1, \ldots, x_4)$ï¼Œå…¶ä¸­$x_i$æ˜¯çš‡å$i$æ‰€åœ¨åˆ—å·

é™ç•Œå‡½æ•°ï¼šè®¾$(x_1, \ldots, x_{i-1})$æ˜¯åˆ°å½“å‰ E-ç»“ç‚¹çš„è·¯å¾„ï¼Œé‚£ä¹ˆæ»¡è¶³é™ç•Œå‡½æ•°çš„$x_i$ä½¿å¾—$(x_1, \ldots, x_{i-1}, x_i)$è¡¨ç¤ºæ²¡æœ‰ä¸¤ä¸ªçš‡åå¯ç›¸äº’æ”»å‡»çš„æ£‹ç›˜çŠ¶æ€

åˆå§‹çŠ¶æ€ï¼šæ ¹ç»“ç‚¹ 1ï¼Œç©ºæ£‹ç›˜

ç»“ç‚¹ç”Ÿæˆï¼šä¾æ¬¡è€ƒå¯Ÿå„ä¸ªçš‡åçš„ä½ç½®

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">4</span>-çš‡åé—®é¢˜ å›æº¯æ±‚è§£

---

<div class="top-3 tighttable row1-4-column2-5-fullborder row1-4-column8-11-fullborder row1-4-column14-17-fullborder queen4-base2">

| &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    |
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |
|   1    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   1    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; | &ensp; |   1    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |
|   2    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   2    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   2    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |
|   3    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   3    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   3    | &ensp; | &ensp; | &ensp; | &ensp; |
|   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; |

</div>

@import "../dot/four-queen-solve1.dot" {.left27 .top0}

<div class="top-8"></div>

ç»“ç‚¹ 3 çš„ä¸¤ä¸ªçš‡ååœ¨åŒä¸€ä¸ªæ–œè§’çº¿

æ€æ­»ç»“ç‚¹ 3ï¼Œè¿”å›ç»“ç‚¹ 2 ç»§ç»­æ‰©å±•

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">4</span>-çš‡åé—®é¢˜ å›æº¯æ±‚è§£

---

<div class="top-3 tighttable row1-4-column2-5-fullborder row1-4-column8-11-fullborder row1-4-column14-17-fullborder queen4-base2">

| &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    |
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |
|   1    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; | &ensp; |   1    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; | &ensp; |   1    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |
|   2    | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |   2    | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |   2    | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; |
|   3    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   3    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |   3    | &ensp; | &ensp; | &ensp; |   ğŸ‘‘   |
|   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; |

</div>

@import "../dot/four-queen-solve2.dot" {.left20per .top0}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">4</span>-çš‡åé—®é¢˜ å›æº¯æ±‚è§£

---

<div class="top-3 tighttable row1-4-column2-5-fullborder row1-4-column8-11-fullborder row1-4-column14-17-fullborder queen4-base2">

| &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    |
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |
|   1    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; | &ensp; |   1    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; | &ensp; |   1    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |
|   2    | &ensp; | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; |   2    | &ensp; | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; |   2    | &ensp; | &ensp; | &ensp; |   ğŸ‘‘   |
|   3    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   3    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |   3    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |
|   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; |

</div>

@import "../dot/four-queen-solve3.dot" {.left14per .top0}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">4</span>-çš‡åé—®é¢˜ å›æº¯æ±‚è§£

---

<div class="top-3 tighttable row1-4-column2-5-fullborder row1-4-column8-11-fullborder row1-4-column14-17-fullborder queen4-base2">

| &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    |
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |
|   1    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |   1    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |   1    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |
|   2    | &ensp; | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; |   2    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   2    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |
|   3    | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |   3    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   3    | &ensp; | &ensp; | &ensp; | &ensp; |
|   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; |

</div>

@import "../dot/four-queen-solve4.dot" {.left16per .top0}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">4</span>-çš‡åé—®é¢˜ å›æº¯æ±‚è§£

---

<div class="top-3 tighttable row1-4-column2-5-fullborder row1-4-column8-11-fullborder row1-4-column14-17-fullborder queen4-base2">

| &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    | &ensp; | &ensp; |   1    |   2    |   3    |   4    |
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |
|   1    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |   1    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |   1    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |
|   2    | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |   2    | &ensp; | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; |   2    | &ensp; | &ensp; | &ensp; |   ğŸ‘‘   |
|   3    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   3    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   3    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |
|   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; | &ensp; |   4    | &ensp; | &ensp; | &ensp; | &ensp; |

</div>

@import "../dot/four-queen-solve5.dot" {.left13per .top0}

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">4</span>-çš‡åé—®é¢˜ å›æº¯æ±‚è§£

---

<div class="left8 righta top-2 tighttable row1-4-column2-5-fullborder queen4-base2">

| &ensp; |   1    |   2    |   3    |   4    |
| :----: | :----: | :----: | :----: | :----: |
|   1    | &ensp; |   ğŸ‘‘   | &ensp; | &ensp; |
|   2    | &ensp; | &ensp; | &ensp; |   ğŸ‘‘   |
|   3    |   ğŸ‘‘   | &ensp; | &ensp; | &ensp; |
|   4    | &ensp; | &ensp; |   ğŸ‘‘   | &ensp; |

</div>

@import "../dot/four-queen-solve6.dot" {.left35per .top-20per}

<div class="top-2"></div>

ç»“ç‚¹ 31 æ˜¯ç­”æ¡ˆç»“ç‚¹ï¼Œè§£$(2, 4, 1, 3)$

<!-- slide data-notes="" -->

##### å›æº¯æ³•çš„ä¸€èˆ¬æè¿°

---

åˆå§‹çŠ¶æ€æ˜¯ç¬¬ä¸€ä¸ªæ´»ç»“ç‚¹ï¼Œä¹Ÿæ˜¯ E-ç»“ç‚¹

å¦‚æœèƒ½ä»è¿™ä¸ª E-ç»“ç‚¹ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°ç»“ç‚¹ï¼Œé‚£ä¹ˆæ–°ç»“ç‚¹å°†å˜æˆæ´»ç»“ç‚¹å’Œæ–°çš„ E-ç»“ç‚¹ï¼Œæ—§çš„ E-ç»“ç‚¹ä»æ˜¯ä¸€ä¸ªæ´»ç»“ç‚¹ï¼Œä½†ä¸æ˜¯ E-ç»“ç‚¹äº†

å¦‚æœä¸èƒ½ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°ç»“ç‚¹ï¼Œå½“å‰çš„ E-ç»“ç‚¹å°±â€œæ­»â€äº†ï¼Œè¿”å›åˆ°æœ€è¿‘è¢«è€ƒå¯Ÿçš„æ´»ç»“ç‚¹ (å›æº¯)ï¼Œè¿™ä¸ªæ´»ç»“ç‚¹é‡æ–°å˜æˆ E-ç»“ç‚¹

å½“æ‰¾åˆ°äº†ç­”æ¡ˆæˆ–è€…éå†äº†æ‰€æœ‰çš„æ´»ç»“ç‚¹æ—¶ï¼Œæœç´¢è¿‡ç¨‹ç»“æŸ

<!-- slide vertical=true data-notes="" -->

##### å›æº¯æ³•çš„ä¸€èˆ¬æ¡†æ¶

---

```python {.left4 .line-numbers .top0 .bottom0}
def backtracking(n):
    x_1, x_2, ..., x_n
    k = 1
    while k > 0:
        if x_{k-1}çš„å­ç»“ç‚¹ä¸­è¿˜æœ‰æ²¡æ£€éªŒè¿‡çš„x_kæ»¡è¶³é™ç•Œå‡½æ•°:
            if x_1, ..., x_kæ˜¯ä¸€æ¡æŠµè¾¾ç­”æ¡ˆç»“ç‚¹çš„è·¯å¾„
                print(x_1, ..., x_k)
            k = k + 1  # è€ƒè™‘ä¸‹ä¸€ä¸ªç»“ç‚¹
        else:
            k = k - 1  # å›æº¯åˆ°å…ˆå‰çš„ç»“ç‚¹
```

é€’å½’ç‰ˆï¼Œåˆå§‹è°ƒç”¨`backtracking_ref(1)`

```python {.left4 .line-numbers .top-1 .bottom0}
def backtracking_ref(k):
    global n, x_1, x_2, ..., x_n
    for x_k in è¿˜æœ‰æ²¡æ£€éªŒè¿‡çš„x_{k-1}çš„å­ç»“ç‚¹ and æ»¡è¶³é™ç•Œå‡½æ•°:
        if x_1, ..., x_kæ˜¯ä¸€æ¡æŠµè¾¾ç­”æ¡ˆç»“ç‚¹çš„è·¯å¾„
            print(x_1, ..., x_k)
        é€’å½’è°ƒç”¨backtracking_ref(k+1)
```

<!-- slide vertical=true data-notes="" -->

##### <span style="font-weight:900">n</span>-çš‡åé—®é¢˜ å›æº¯å®ç°

---

@import "../codes/nqueen.py" {line_begin=0 line_end=52 .left4 .line-numbers .top0}

<!-- slide data-notes="" -->

##### å­é›†å’Œæ•°é—®é¢˜

---

è¾“å…¥ï¼š$n$ä¸ªæ­£æ•°çš„é›†åˆ$W = \{ w_1, w_2, \ldots, w_n\}$å’Œæ­£æ•°$M$

è¾“å‡ºï¼š$W$ä¸­çš„å’Œæ•°ç­‰äº$M$çš„æ‰€æœ‰å­é›†

ä¾‹ 1ï¼š

- $n=4$ï¼Œ$(w_1, w_2, w_3, w_4) = (7, 11, 13, 24)$ï¼Œ$M = 31$
- å­é›†ï¼š$(7, 11, 13)$ã€$(7, 24)$

<div class="top2"></div>

ä¾‹ 2ï¼š

- $n=6$ï¼Œ$(w_1, w_2, w_3, w_4, w_5, w_6) = (5, 10, 12, 13, 15, 18)$ï¼Œ$M = 30$
- å­é›†ï¼š$(5, 10, 15)$ã€$(5, 12, 13)$ã€$(12,18)$

<!-- slide vertical=true data-notes="" -->

##### å­é›†å’Œæ•°é—®é¢˜

---

è¾“å…¥ï¼š$n$ä¸ªæ­£æ•°çš„é›†åˆ$W = \{ w_1, w_2, \ldots, w_n\}$å’Œæ­£æ•°$M$

è¾“å‡ºï¼š$W$ä¸­çš„å’Œæ•°ç­‰äº$M$çš„æ‰€æœ‰å­é›†

è§£çš„è¡¨ç¤ºï¼š$n$-å…ƒç»„$(x_1, \ldots, x_n)$ï¼Œ$x_i \in \{0,1\}$è¡¨ç¤ºæ˜¯å¦é€‰æ‹©è¿™ä¸ªæ•°

é™ç•Œå‡½æ•°ï¼šè®¾$W$ä¸­å…ƒç´ å·²æŒ‰å‡åºæ’åˆ—ï¼Œåˆ™æœ‰

$$
\begin{align*}
    \quad \sum_{i=1}^k w_i x_i + \sum_{i=k+1}^n w_i \ge M, \quad \sum_{i=1}^k w_i x_i + w_{k+1} \le M
\end{align*}
$$

<div class="top-2"></div>

å³å¯¹$x_k$åšå‡ºé€‰æ‹©åï¼Œä»¥ä¸‹ä¸¤ç§æƒ…å½¢å¯ä»¥å‰ªæï¼š

- å·²é€‰æ•°ä¹‹å’Œ + å‰©ä½™æ‰€æœ‰æ•° < ç›®æ ‡å€¼
- å·²é€‰æ•°ä¹‹å’Œ + å‰©ä½™æœ€å°æ•° > ç›®æ ‡å€¼

<!-- slide vertical=true data-notes="" -->

##### å­é›†å’Œæ•°é—®é¢˜

---

$n=6$ï¼Œ$(w_1, w_2, w_3, w_4, w_5, w_6) = (5, 10, 12, 13, 15, 18)$ï¼Œ$M = 30$

@import "../dot/sum-subset.dot" {.center .top0}

<div class="top-54per left46per fs18">

(å·²é€‰æ•°ä¹‹å’Œ, å¾…é€‰æ•°ä¸‹æ ‡, å‰©ä½™æ•°ä¹‹å’Œ)

</div>
